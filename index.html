<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Granat Bar Reservation</title>

<style>
body{margin:0;background:#000;font-family:Arial,Helvetica,sans-serif;color:#fff}
.container{max-width:420px;margin:auto;padding:20px;text-align:center}
.logo img{width:220px;max-width:80%;margin:20px auto}

.notice{
  background:#111;
  border:1px solid #00e5ff;
  padding:12px 14px;
  border-radius:10px;
  font-size:14px;
  line-height:1.4;
  margin:10px 0 20px;
  opacity:.9;
}

.lang{display:flex;justify-content:center;gap:10px;margin-bottom:20px}
.lang button{padding:10px 18px;border:2px solid #00e5ff;background:transparent;color:#00e5ff;border-radius:8px}
.lang button.active{background:#00e5ff;color:#000}

label{text-align:left;display:block;margin-top:14px;opacity:.85}
input,select{
  width:100%;
  padding:14px;
  margin-top:6px;
  border:none;
  border-radius:8px;
  background:#222;
  color:#fff;
  font-size:16px;
}

button.submit{
  margin-top:26px;
  width:100%;
  padding:18px;
  font-size:18px;
  font-weight:bold;
  border:none;
  border-radius:10px;
  background:#00e5ff;
  color:#000
}

.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center
}
.popup-box{
  background:#111;
  border:2px solid #00e5ff;
  padding:26px;
  border-radius:14px;
  max-width:280px
}

.hidden{display:none}
</style>
</head>

<body>
<div class="container">

<div class="logo">
  <img src="Logo.png.jpeg" alt="Granat Bar">
</div>

<div class="notice" id="karaokeNotice">
Please note: Karaoke reservations are subject to availability and require confirmation.
Minimum booking time is 2 hours.
We will contact you shortly via phone.
</div>

<div class="lang">
  <button class="active" onclick="setLang('en',this)">EN</button>
  <button onclick="setLang('ru',this)">RU</button>
  <button onclick="setLang('cz',this)">CZ</button>
</div>

<h1 id="title">Book a Reservation</h1>

<form id="form" method="POST" action="https://formsubmit.co/granatpraha@proton.me">

<input type="hidden" name="_captcha" value="false">
<input type="hidden" name="_template" value="table">
<input type="hidden" name="_subject" value="New Reservation">

<label id="l_place">Reservation Area</label>
<select name="Area" id="area">
  <option value="Main Hall">Main Hall</option>
  <option value="Karaoke 2-10 people - 500 CZK">Karaoke 2–10 people (500 CZK / hour)</option>
  <option value="Karaoke 10-20 people - 600 CZK">Karaoke 10–20 people (600 CZK / hour)</option>
</select>

<label id="l_name">Name</label>
<input name="Name" required>

<label id="l_phone">Phone</label>
<input name="Phone" required>

<label id="l_people">Number of People</label>
<input type="number" name="People" required>

<label id="l_date">Date</label>
<input type="date" name="Date" required>

<label id="l_start">Start Time</label>
<input type="time" name="Start Time" id="startTime" required>

<div id="endTimeBox" class="hidden">
  <label id="l_end">End Time (minimum 2 hours later)</label>
  <input type="time" name="End Time" id="endTime">
</div>

<button class="submit" id="submitBtn">Reserve</button>
</form>

</div>

<div class="popup" id="popup">
  <div class="popup-box">
    <p id="popupText"></p>
  </div>
</div>

<script>
const text={
en:{
 title:"Book a Reservation",
 notice:"Please note: Karaoke reservations are subject to availability and require confirmation. Minimum booking time is 2 hours. We will contact you shortly via phone.",
 place:"Reservation Area",
 name:"Name",
 phone:"Phone",
 people:"Number of People",
 date:"Date",
 start:"Start Time",
 end:"End Time (minimum 2 hours later)",
 btn:"Reserve",
 table:"Reservation completed.",
 karaoke:"Reservation request sent. We will contact you shortly via phone."
},
ru:{
 title:"Reservation",
 notice:"Обратите внимание: бронирование караоке зависит от наличия свободных мест и требует подтверждения. Минимальное время бронирования — 2 часа. Мы свяжемся с вами по телефону.",
 place:"Area",
 name:"Name",
 phone:"Phone",
 people:"People",
 date:"Date",
 start:"Start Time",
 end:"End Time (minimum 2 hours later)",
 btn:"Send",
 table:"Reservation completed.",
 karaoke:"Request sent. We will contact you shortly via phone."
},
cz:{
 title:"Rezervace",
 notice:"Upozornění: Rezervace karaoke závisí na dostupnosti a vyžaduje potvrzení. Minimální doba rezervace jsou 2 hodiny. Budeme vás kontaktovat telefonicky.",
 place:"Area",
 name:"Name",
 phone:"Phone",
 people:"People",
 date:"Date",
 start:"Start Time",
 end:"End Time (minimum 2 hours later)",
 btn:"Odeslat",
 table:"Rezervace dokoncena.",
 karaoke:"Zadost odeslana. Budeme vas kontaktovat telefonicky."
}
};

let currentLang="en";

function setLang(l,b){
 currentLang=l;
 document.querySelectorAll(".lang button").forEach(x=>x.classList.remove("active"));
 b.classList.add("active");
 title.innerText=text[l].title;
 karaokeNotice.innerText=text[l].notice;
 l_place.innerText=text[l].place;
 l_name.innerText=text[l].name;
 l_phone.innerText=text[l].phone;
 l_people.innerText=text[l].people;
 l_date.innerText=text[l].date;
 l_start.innerText=text[l].start;
 l_end.innerText=text[l].end;
 submitBtn.innerText=text[l].btn;
}

const area=document.getElementById("area");
const endBox=document.getElementById("endTimeBox");
const startTime=document.getElementById("startTime");
const endTime=document.getElementById("endTime");

area.addEventListener("change",()=>{
  if(area.value==="Main Hall"){
    endBox.classList.add("hidden");
    endTime.required=false;
  }else{
    endBox.classList.remove("hidden");
    endTime.required=true;
  }
});

document.getElementById("form").addEventListener("submit",function(e){
  if(area.value!=="Main Hall"){
    const start=new Date("1970-01-01T"+startTime.value+":00");
    const end=new Date("1970-01-01T"+endTime.value+":00");
    const diff=(end-start)/3600000;
    if(diff<2){
      alert("Minimum booking time for karaoke is 2 hours.");
      e.preventDefault();
      return;
    }
  }

  e.preventDefault();
  fetch(this.action,{method:"POST",body:new FormData(this)})
  .then(()=>{
    popup.style.display="flex";
    popupText.innerText =
      area.value==="Main Hall"
        ? text[currentLang].table
        : text[currentLang].karaoke;
    setTimeout(()=>popup.style.display="none",3000);
    this.reset();
    endBox.classList.add("hidden");
  });
});
</script>

</body>
</html>
